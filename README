#  __  __  ___  _   _  ____  ___  _     ____ ___ ____ _   _ ___ ____
# |  \/  |/ _ \| \ | |/ ___|/ _ \| |   | __ )_ _/ ___| | | |_ _/ ___|
# | |\/| | | | |  \| | |  _| | | | |   |  _ \| | |   | |_| || | |  _
# | |  | | |_| | |\  | |_| | |_| | |___| |_) | | |___|  _  || | |_| |
# |_|  |_|\___/|_| \_|\____|\___/|_____|____/___\____|_| |_|___\____|
#
"Өсөхөөс сурсан үндэсний хэл мартаж болшгүй соёл
Үхтэл орших төрөлх нутаг салж болшгүй орон"
                              Д.Нацагдорж

Монгол бичгээ эрхэмлэн хүндэлж, эрхлэн хэрэглэх хүсэлтэй хэсэг
бүлэг галзуу хүмүний тэмдэглэлүүд :)
Хэрэв Та кирил бичгийг хөгжил хэмээн "соёлжсон" урсгалын эсрэг зогсож
буй нэгэн бол, тэдгээр хүмүүсд та бас л галзуу мэт харагдана биз ээ.

АНХААР:
  Байти үсгийн маягийг хувиараа татан авч фонт гэсэн санд хуулах хэрэгтэй.

Ерөнхий тайлбар
===============
Уг зорилго маань, үсгийн маягтад байгаа ангилал (class) болон орлуулах дүрмүүдийг (feature) ашиглан дараах зүйлсийг бэлтгэж авахад оршино:

- ангилал болон дүрэмд оролцсон бүх үсгийн жагсаалт болон тэдгээрийн дүрс зураг
- шинээр үсгийн маяг зурахад шаардагдах дүрс тэмдгийн жагсаалт
- ангилал болон дүрмийн орлуулах хүснэгтийг зургаар харуулах
- ...

Сангийн зохион байгуулалт
=========================
./mongolbichig        # Дэд сан
|- MongolianBaiti     # Байтигаас экпортлож авсан ангилал болон дүрэм
|---- classes
|---- features
|- fexporter          # дүрмээс dot файл үүсгэгч
|---- config          # зураг үүсгэгчийн тохиргоо файлын сан
|---- include
|---- src             # dot файл үүсгэгчийг ажиллуулах сан
|- fonts              # Энд Байти юмуу ажиллах үсгийн маягийг хуулна
|- scripts            # Төрөл бүрийн хэрэгтэй зэвсэгүүд
|- misc               # Зэсвгүүдийн гаралтаас үүссэн файлууд энд байрлана (ажиллах зааварыг хар!)
|- temp               # Зарим програмын гаралтыг энд байж болно
|- test               # Зарим жишээ зураг, тест
|- web                # үүссэн дүрс зургийн жагсаалт хадгалах сан
|---- images

Ажиллуулах товч дараалал
========================
1. Бүх үсгийн дүрс зургийг үүсгэх болон зарим хэрэгтэй жагсаалт үүсгэх
   - Дараах файлууд үүснэ:
      ../web/images сан дотор бүр дүрсийн зургийг хадгална (*.png)
      misc/allglyphs      бүх дүрсийн жагсаалт
      misc/classglyphs    class уудад оролцсон нийт тэмдгийн жагсаалт
      misc/featureglyphs  feature уудад оролцсон нийт тэмдгийн жагсаалт
      misc/replaceglyphs  дүрмийн орлуулах талд нь оролцсон (by XXX) нийт тэмдгийн жагсаалт (зурах тэмдгүүд)
   - Гүцэтгэх тушаал
      # cd scripts
      # ./generate_all_glyph.sh ../fonts/Mongolian_Baiti.ttf ../MongolianBaiti ../web/images
2. Дүрмээс dot файл үүсгэх
   Эрланг бичлэг учраас эрланг суулгасан хүмүүс л турших боломжтой.
   TODO:
      Үүссэн *.dot текст файлуудын нийт хэмжээ 3.9 MB, Зураг болгосонтойгоо нийлээд 14 MB болж байгаа учраас  ийшээ оруулалгүй өөрсдөө хувиргаж байгаа юм.
      Үүссэн дот файл юмуу зургуудыг тусад нь татаж авахаар байрлуулбал зүгээр!
   - fexporter/config/application.cfg файл доторх сангуудыг зөв байрлуул
     # cd fexporter/src
     # rm *.beam && erl -compile *.erl
     # erl
     1> main:start().
     ..> C-c C-c дарж гарч болно, эсвэл C-g q
3. Үүссэн дот файлтай сан доторх бүх дот файлаас *png зураг үүсгэх
   2 дугаар алхмын application.cfg дотор {export_folder, "temp"}  гэж тэнд дот файл үүсгэсэн тул:
   # cd scripts
   # ./generatedot_all.sh ../temp

Үүссэн графикийн тайлбар
========================
- Зургийг зүүнээсээ баруун тийш дараалж байрласан үсэгнүүдээс хамгийн сүүлд байрлах цэнхэр хүрээтэй тэмдгээр орлуулалт хийнэ гэж тайлж уншина.
- Хэрэв ногоон хүрээтэй үсэг байвал зөвхөн тэр үсгийг цэнхэр хүрээтэй үсгээр орлуулна
- @ тэмдэгээр эхэлж бичсэн нэртэй дөрвөлжин бол ангилагдсан дүрснүүд буюу class дүрснүүд юм. @-гүй нэрээрээ ../temp/classes сан дотор зургаараа байгаа.
  Арваас дээш тэмдэгт агуулсан байвал тасалж НЭР_ДУГААР хэлбэртэйгээр хадгалсан.
- group_ХХХ гэсэн нэртэй дөрвөлжин бол хэсэг бүлэг дүрсний тэмдэглэл юм. ../temp дотор тухайн сан дотроо уг нэрээрээ зураг хэлбэртэй байрлагдсан.
  Арваас дээш тэмдэгт агуулсан байвал тасалж НЭР_ДУГААР хэлбэртэйгээр хадгалсан.

Жишээ
======
./test/sample_feature    Эх дүрэм файл
./test/sample_dot.txt    Үүссэн дот файл
./test/sample.png        Дот файлаас хувирч үүссэн зураг

Хийх зүйлс:
-----------
- Илүү автоматжуулалт ( Makefile )
- Вэб нүүр
